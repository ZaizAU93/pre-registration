<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Админ - Список тикетов</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.5.0/sockjs.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.12/jstree.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.12/themes/default/style.min.css" />
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 20px;
    }
    h1 {
      color: #333;
      text-align: center;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      padding: 12px;
      text-align: left;
      border: 1px solid #ddd;
    }
    th {
      background-color: #4CAF50;
      color: white;
    }
    tr:hover {
      background-color: #f1f1f1;
    }
    a {
      color: #4CAF50;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    .system-info {
      margin-top: 20px;
      padding: 10px;
      background-color: #e7f3fe;
      border: 1px solid #b8daff;
      border-radius: 5px;
    }
  </style>

</head>
<body>

<div id="locationTree"></div>



</body>
</html>



<script>
  $(document).ready(function () {
    $('#locationTree').jstree({
      'core': {
        'data': {
          'url': '/locations/tree',
          'data': function (node) {
            return { 'id': node.id }; // Передаем ID узла для загрузки дочерних элементов
          }
        }
      }
    });

    $('#locationTree').on('changed.jstree', function (e, data) {
      const selectedNode = data.instance.get_node(data.selected[0]);
      console.log('Выбрано:', selectedNode);
    });
  });


  $('#locationTree').on('changed.jstree', function (e, data) {
    const selectedNode = data.instance.get_node(data.selected[0]);
    const locationId = selectedNode.id; // ID выбранного элемента
    const locationType = selectedNode.type; // Тип элемента (branch, address, floor, room, cubicle)

    // Отправка на сервер
    $.ajax({
      url: '/locations/select',
      method: 'POST',
      data: { id: locationId, type: locationType },
      success: function (response) {
        console.log('Местоположение сохранено:', response);
      }
    });
  });
</script>

при загрузки старницы пусто и такие ошибки есть. Исправь